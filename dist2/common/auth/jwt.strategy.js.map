{"version":3,"sources":["sourceMap"],"names":["__decorate","_0x137d41","_0x59c82c","_0x162faa","_0x5755c1","_0x10da91","arguments","_0x670965","Object","_0xc4701e","Reflect","_0x1dd95f","__metadata","_0x4791c6","_0x3123d0","__param","_0x1d2f7b","_0x426614","_0x395531","_0x477422","exports","common_1","require","passport_1","passport_jwt_1","auth_service_1","JwtStrategy","constructor","_0x5dc5cc","_0x137907","_0x3ca2a2","_0x35bf5a","String"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JwtStrategy = void 0;\nconst common_1 = require(\"@nestjs/common\");\nconst passport_1 = require(\"@nestjs/passport\");\nconst passport_jwt_1 = require(\"passport-jwt\");\nconst auth_service_1 = require(\"./auth.service\");\nlet JwtStrategy = class JwtStrategy extends (0, passport_1.PassportStrategy)(passport_jwt_1.Strategy, 'jwt') {\n    constructor(authService, secret) {\n        super({\n            jwtFromRequest: passport_jwt_1.ExtractJwt.fromAuthHeaderAsBearerToken(),\n            ignoreExpiration: false,\n            secretOrKey: secret,\n        });\n        this.authService = authService;\n        this.secret = secret;\n    }\n    async validate(payload) {\n        const session = await this.authService.validateUser(payload);\n        return session;\n    }\n};\nexports.JwtStrategy = JwtStrategy;\nexports.JwtStrategy = JwtStrategy = __decorate([\n    (0, common_1.Injectable)(),\n    __param(1, (0, common_1.Inject)('APP_JWT_SECRET')),\n    __metadata(\"design:paramtypes\", [auth_service_1.AuthService, String])\n], JwtStrategy);\n//# sourceMappingURL=jwt.strategy.js.map"]}