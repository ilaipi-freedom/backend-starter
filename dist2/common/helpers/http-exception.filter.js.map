{"version":3,"sources":["sourceMap"],"names":["__decorate","_0x2380d2","_0x555501","_0x345b52","_0x2442be","_0x511f90","arguments","_0xabb1e8","Object","_0x596d42","Reflect","_0x1eb767","HttpExceptionFilter_1","exports","common_1","require","HttpExceptionFilter","constructor","_0x5eacb9","_0x2dfe53","_0xa69cab","_0x482df3","_0x3e0dec","_0x3a26c1","_0x5bb62a"],"mappings":"AAAA,a,ouCACA,IAAIA,UAAA,CAAc,MAAQ,K,gBAAA,CAAT,EAA6B,SAAUC,SAAV,CAAsBC,SAAtB,CAA8BC,SAA9B,CAAmCC,SAAnC,C,8tBAC1C,IAAIC,SAAA,CAAIC,SAAA,C,QAAA,CAAR,CAA0BC,SAAA,C,mBAAIF,S,KAAA,CAAQH,SAAR,C,4BAAiBE,S,CAAS,I,CAAT,CAAgBA,SAAA,CAAOI,MAAA,C,gBAAA,EAAgCN,SAAhC,CAAwCC,SAAxC,CAAvB,CAAsEC,SAArH,CAA2HK,SAA3H,C,sBACI,OAAOC,O,6BAAP,E,4BAA+B,OAAOA,OAAA,C,gBAAA,C,8BAAiCH,SAAA,CAAIG,OAAA,C,gBAAA,EAAiBT,SAAjB,CAA6BC,SAA7B,CAAqCC,SAArC,CAA0CC,SAA1C,CAAJ,C,KACtE,IAAK,IAAIO,SAAA,C,4BAAIV,SAAA,C,QAAA,C,KAAR,CAA+BU,SAAA,E,GAApC,CAA4CA,SAAA,EAA5C,C,GAAqDF,SAAA,CAAIR,SAAA,CAAWU,SAAX,C,CAAeJ,SAAA,CAAK,C,4BAAAF,S,KAAA,C,4BAAQI,S,CAAEF,S,CAAV,C,4BAAeF,S,KAAA,C,4BAAQI,S,CAAEP,S,CAAQC,S,CAAKI,S,CAAvB,CAA4BE,SAAA,CAAEP,SAAF,CAAUC,SAAV,CAA3C,CAAD,EAA+DI,SAAnE,C,oCACtEF,S,KAAA,EAASE,SAAT,EAAcC,MAAA,C,gBAAA,EAAsBN,SAAtB,CAA8BC,SAA9B,CAAmCI,SAAnC,CAAd,CAAqDA,S,EAJhE,CAMIK,qBANJ,C,2NAOAJ,MAAA,C,gBAAA,EAAsBK,OAAtB,C,gBAAA,CAA6C,C,OAAE,C,IAAF,CAA7C,C,CACAA,OAAA,C,qBAAA,EAA8B,K,GAD9B,CAEA,MAAMC,QAAA,CAAWC,OAAA,C,gBAAA,CAAjB,CACA,IAAIC,mBAAA,CAAsBJ,qBAAA,CAAwB,MAAMI,mBAAoB,CACxEC,WAAA,E,2BACI,K,QAAA,EAAc,IAAIH,QAAA,C,kBAAA,CAAJ,CAAoBF,qBAAA,C,MAAA,CAApB,C,EAElB,C,gBAAA,EAAMM,SAAN,CAAiBC,SAAjB,C,uKACUC,SAAA,CAAMD,SAAA,C,cAAA,G,CACNE,SAAA,CAAWD,SAAA,C,gBAAA,G,CACXE,SAAA,CAAUF,SAAA,C,gBAAA,G,CACVG,SAAA,CAASL,SAAA,YAAqBJ,QAAA,C,eAAA,CAArB,CACTI,SAAA,C,gBAAA,GADS,CAETJ,QAAA,C,YAAA,E,uBAAA,C,CACAU,SAAA,C,mBAAUN,S,CAAqBJ,QAAA,C,gBAAA,C,CAArB,CACVI,SAAA,C,gBAAA,CADU,C,mBAGhB,K,gBAAA,E,gBAAA,EAAiBA,SAAjB,C,kBAAA,C,CACAG,SAAA,C,gBAAA,EAAgBE,SAAhB,E,gBAAA,EAA6B,C,MACzB,CAAMA,SADmB,C,SAEzB,CAAAC,SAFyB,C,MAGzB,CAAMF,SAAA,C,gBAAA,CAHmB,CAA7B,C,EAfoE,CAA5E,CAsBAT,OAAA,C,gBAAA,EAA8BG,mB,CAC9BH,OAAA,C,gBAAA,EAA8BG,mBAAA,CAAsBJ,qBAAA,CAAwBZ,UAAA,CAAW,CAClF,C,GAAA,CAAGc,QAAA,C,gBAAA,CAAH,CAAD,EADmF,CAAX,CAEzEE,mBAFyE,CAD5E","sourcesContent":["\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar HttpExceptionFilter_1;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HttpExceptionFilter = void 0;\nconst common_1 = require(\"@nestjs/common\");\nlet HttpExceptionFilter = HttpExceptionFilter_1 = class HttpExceptionFilter {\n    constructor() {\n        this.logger = new common_1.Logger(HttpExceptionFilter_1.name);\n    }\n    catch(exception, host) {\n        const ctx = host.switchToHttp();\n        const response = ctx.getResponse();\n        const request = ctx.getRequest();\n        const status = exception instanceof common_1.HttpException\n            ? exception.getStatus()\n            : common_1.HttpStatus.INTERNAL_SERVER_ERROR;\n        const message = exception instanceof common_1.HttpException\n            ? exception.message\n            : '系统异常，请稍后重试，或联系管理员';\n        this.logger.warn(exception, '系统异常');\n        response.status(status).json({\n            code: status,\n            message,\n            path: request.url,\n        });\n    }\n};\nexports.HttpExceptionFilter = HttpExceptionFilter;\nexports.HttpExceptionFilter = HttpExceptionFilter = HttpExceptionFilter_1 = __decorate([\n    (0, common_1.Catch)()\n], HttpExceptionFilter);\n//# sourceMappingURL=http-exception.filter.js.map"]}